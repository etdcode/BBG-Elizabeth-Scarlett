{% assign metafield = product.metafields %}
{% assign product_size = false %}

{%- unless product.has_only_default_variant -%}
  {% for product_option in product.options_with_values %}
    {% assign check_variant_size = product_option.name | handle %}
    {%- if check_variant_size == 'size' -%}
      {% assign product_size = true %}
    {%- endif -%}
  {% endfor %}
{%- endunless -%}

<div class="section--product-tab">
  <div class="page-wrapper">
    <div class="d-flex">
      {%- if metafield.product.size_guide != blank or metafield.tab_design.title != blank or metafield.tab_design.img != blank or metafield.tab_design.content != blank or metafield.tab_detail.title != blank or metafield.tab_detail.img != blank or metafield.tab_detail.content != blank or metafield.tab_delivery.title != blank or metafield.tab_delivery.img != blank or metafield.tab_delivery.content != blank or metafield.tab_need_help.title != blank or metafield.tab_need_help.img != blank or metafield.tab_need_help.content != blank or metafield.tab_gift_option.title != blank or metafield.tab_gift_option.img != blank or metafield.tab_gift_option.content != blank -%}
        <div class="left col-md-6 col-12">
          <div class="tab tab-design">
            {%- if metafield.tab_design.title != blank or metafield.tab_design.img != blank or metafield.tab_design.content != blank -%}
              <div class="accordion">
                <div class="accordion-header js-accordion position-relative">
                  the design
                  <img src="{{ 'icon-plus.svg' | asset_url }}" class="icon plus" alt="">
                  <img src="{{ 'icon-remove.svg' | asset_url }}" class="icon minus" alt="">
                </div>

                <div class="accordion-content">
                  <div class="content--inner">
                    <span class="check-element" hidden></span>
                    {%- if metafield.tab_design.img != blank -%}
                      <img src="{{ metafield.tab_design.img }}" class="icon-img" alt="">
                    {%- endif -%}

                    {%- if metafield.tab_design.title != blank -%}
                      <h2 class="title">{{  metafield.tab_design.title }}</h2>
                    {%- endif -%}

                    {%- if metafield.tab_design.content != blank -%}
                      <p class="content">{{ metafield.tab_design.content }}</p>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            {%- endif -%}

            {%- if metafield.tab_detail.title != blank or metafield.tab_detail.img != blank or metafield.tab_detail.content != blank -%}
              <div class="accordion">
                <div class="accordion-header position-relative js-accordion">
                  details & care
                  <img src="{{ 'icon-plus.svg' | asset_url }}" class="icon plus" alt="">
                  <img src="{{ 'icon-remove.svg' | asset_url }}" class="icon minus" alt="">
                </div>

                <div class="accordion-content">
                  <div class="content--inner">
                      <span class="check-element" hidden></span>
                      {%- if metafield.tab_detail.img != blank -%}
                        <img src="{{ metafield.tab_detail.img }}" alt="">
                      {%- endif -%}

                      {%- if metafield.tab_detail.title != blank -%}
                        <h2 class="title">{{  metafield.tab_detail.title }}</h2>
                      {%- endif -%}

                      {%- if metafield.tab_detail.content != blank -%}
                        <p class="content">{{ metafield.tab_detail.content }}</p>
                      {%- endif -%}
                  </div>
                </div>
              </div>
            {%- endif -%}

            {%- if metafield.tab_delivery.title != blank or metafield.tab_delivery.img != blank or metafield.tab_delivery.content != blank -%}
              <div class="accordion">
                <div class="accordion-header position-relative js-accordion">
                  delivery & returns
                  <img src="{{ 'icon-plus.svg' | asset_url }}" class="icon plus" alt="">
                  <img src="{{ 'icon-remove.svg' | asset_url }}" class="icon minus" alt="">
                  </span>
                </div>

                <div class="accordion-content">
                  <div class="content--inner">
                    <span class="check-element" hidden></span>
                    {%- if metafield.tab_delivery.img != blank -%}
                      <img src="{{ metafield.tab_delivery.img }}" alt="">
                    {%- endif -%}

                    {%- if metafield.tab_delivery.title != blank -%}
                      <h2 class="title">{{  metafield.tab_delivery.title }}</h2>
                    {%- endif -%}

                    {%- if metafield.tab_delivery.content != blank -%}
                      <p class="content">{{ metafield.tab_delivery.content }}</p>
                    {%- endif -%}

                    {%- section 'list-icon-product-tab' -%}
                  </div>
                </div>
              </div>
            {%- endif -%}

            {%- if metafield.tab_need_help.title != blank or metafield.tab_need_help.img != blank or metafield.tab_need_help.content != blank -%}
              <div class="accordion">
                <div class="accordion-header position-relative js-accordion">
                  need help?
                  <img src="{{ 'icon-plus.svg' | asset_url }}" class="icon plus" alt="">
                  <img src="{{ 'icon-remove.svg' | asset_url }}" class="icon minus" alt="">
                  </span>
                </div>

                <div class="accordion-content">
                  <div class="content--inner">
                    <span class="check-element" hidden></span>
                    {%- if metafield.tab_need_help.img != blank -%}
                      <img src="{{ metafield.tab_need_help.img }}" alt="">
                    {%- endif -%}

                    {%- if metafield.tab_need_help.title != blank -%}
                      <h2 class="title">{{  metafield.tab_need_help.title }}</h2>
                    {%- endif -%}

                    {%- if metafield.tab_need_help.content != blank -%}
                      <p class="content">{{ metafield.tab_need_help.content }}</p>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            {%- endif -%}

            {%- if metafield.tab_gift_option.title != blank or metafield.tab_gift_option.img != blank or metafield.tab_gift_option.content != blank -%}
              <div class="accordion">
                <div class="accordion-header position-relative js-accordion">
                  gift options
                  <img src="{{ 'icon-plus.svg' | asset_url }}" class="icon plus" alt="">
                  <img src="{{ 'icon-remove.svg' | asset_url }}" class="icon minus" alt="">
                  </span>
                </div>

                <div class="accordion-content">
                  <div class="content--inner">
                    <span class="check-element" hidden></span>
                    {%- if metafield.tab_gift_option.img != blank -%}
                      <img src="{{ metafield.tab_gift_option.img }}" alt="">
                    {%- endif -%}

                    {%- if metafield.tab_gift_option.title != blank -%}
                      <h2 class="title">{{  metafield.tab_gift_option.title }}</h2>
                    {%- endif -%}

                    {%- if metafield.tab_gift_option.content != blank -%}
                      <p class="content">{{ metafield.tab_gift_option.content }}</p>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            {%- endif -%}

            {%- if metafield.product.size_guide != blank and product_size -%}
              <div class="accordion" id="size-guide">
                <div class="accordion-header position-relative js-accordion">
                  Size Guide
                  <img src="{{ 'icon-plus.svg' | asset_url }}" class="icon plus" alt="">
                  <img src="{{ 'icon-remove.svg' | asset_url }}" class="icon minus" alt="">
                  </span>
                </div>

                <div class="accordion-content">
                  <div class="content--inner">
                    <span class="check-element" hidden></span>
                    <p class="content">{{ metafield.product.size_guide }}</p>
                  </div>
                </div>
              </div>
            {%- endif -%}
          </div>

          <div class="social">
            {% capture shareUrl %}{{request.host}}{{product.url }}{% endcapture %}
            <ul>
              <li>SHARE:</li>
              <li><a href="https://www.facebook.com/sharer/sharer.php?u={{ shareUrl | url_encode }}&amp;src=sdkpreparse"><img src="{{ 'facebook.svg' | asset_url }}" /></a></li>
              <li><a href="https://twitter.com/intent/tweet?url={{ shareUrl | url_encode }}"><img src="{{ 'twitter.svg' | asset_url }}" /></a></li>
              <li><a href="https://www.pinterest.com/pin/create/button/" data-pin-do="buttonBookmark" data-pin-custom="true" style="cursor: pointer;" data-pin-media="{{ product.featured_image | img_url: "300x"}}"><img src="{{ 'pinterest.svg' | asset_url }}" /></a></li>
            </ul>
          </div>
        </div>
      {%- endif -%}

      {%- if metafield.img.banner != blank -%}
        <div class="right col-md-6 col-12">
          <img src="{{ metafield.img.banner }}" alt="">
        </div>
      {%- endif -%}
    </div>
  </div>
</div>
