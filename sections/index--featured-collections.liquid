<div id="Section{{ section.id }} featured-collection" style="background:{{section.settings.background_color}}">
   <div class="page-wrapper wrapper--slider">
      <div class="index-section index__recommendations index__featured-collection">
         <div class="section__info">
            {% if section.settings.section_label %}
               <img src="{{ section.settings.section_label | img_url: '300x' }}">
            {% endif %}
            <div class="section__subheading">{{ section.settings.subheading }}</div>
            <h3 class="section__heading">{{ section.settings.heading }}</h3>
            <div class="section__desc">{{ section.settings.desc }}</div>
            <a class="section__subheading section__link" href="{{ section.settings.button_url }}">{{ section.settings.button_text }}</a>
         </div>
      
         <div class="section__content">
            <div class="swiper recommendations-slider__outer" index-slider-wrapper>
               <div class="recommendations-slider swiper-wrapper">
                  {% for block in section.blocks %}
                     <a href="{{ block.settings.link }}" class="index__product-card text-center swiper-slide">
                        <div class="index__product-image">
                           <img src="{{ block.settings.image_1 | img_url: '600x' }}" {% if block.settings.image_2 %}class="product__first-img"{% endif %}>
                           {% if block.settings.image_2 %}
                              <img src="{{ block.settings.image_2 | img_url: '600x' }}" class="product__second-img">
                           {% endif %}
                        </div>
                        <div class="section__subheading recommendations__product-title">{{ block.settings.title }}</div>
                     </a>
                  {% endfor %}
               </div>

               <div class="next-icon">{% render 'icon-carousel-arrow' %}</div>
               <div class="prev-icon">{% render 'icon-carousel-arrow' %}</div>
            </div>
         </div>
      </div>  
   </div> 
</div>

<style>
   #Section{{ section.id }}, #Section{{ section.id }} .slick-arrow {
      background-color: {{ section.settings.background_color }};
   }
</style>

{% schema %}
   {
      "name": "Featured collections",
      "settings": [
         {
            "id": "section_label",
            "type": "image_picker",
            "label": "Section label"
         },
         {
            "id": "heading",
            "type": "text",
            "label": "Heading",
            "default": "Heading"
         },
         {
            "id": "subheading",
            "type": "text",
            "label": "Subheading",
            "default": "Subheading"
         },
         {
            "id": "desc",
            "type": "richtext",
            "label": "Description",
            "default": "<p>Some descriptions go here...</p>"
         },
         {
            "id": "button_text",
            "label": "Button Text",
            "type": "text",
            "default": "Shop new"
         },
         {
            "id": "button_url",
            "label": "Button Link",
            "type": "url"
         },
         {
            "id": "background_color",
            "type": "color",
            "label": "Background color",
            "default": "#FFFEF9"
         }
      ],
      "blocks": [
         {
            "name": "Collection",
            "type": "collection",
            "settings": [
               {
                  "id": "title",
                  "type": "text",
                  "label": "Title",
                  "default": "Collection name"
               },
               {
                  "id": "image_1",
                  "type": "image_picker",
                  "label": "Image 1"
               },
               {
                  "id": "image_2",
                  "type": "image_picker",
                  "label": "Image 2"
               },
               {
                  "id": "link",
                  "type": "url",
                  "label": "Link"
               }
            ]
         }
      ],
      "presets": [
         {
            "name": "Featured collections",
            "category": "Collections"
         }
      ]
   }
{% endschema %}